基础服务


# 基础服务挑战和应对（2方面：建设好自己，然后服务大家）

## 高可用和稳定性
Failover（手动自动智能）
访问控制层（部分应用建设，比如触达push）
依赖/业务/存储降级预案
限流熔断（自研熔断框架）
资源隔离

## 性能和成本
百万push 2h->20min
mysql->HBase+es/redis架构升级
异步化

## 快速接入
架构收敛（多语言，文件服务等）
接口收敛
清晰的接入文档（技术方案说明等）
平台自助接入
插件机制（网关发布插件等）

## 快速响应
开发配置话和插件
答疑和运维工具化


# 网关系统概览
Atop网关Java
highway网关 go


## 网关架构演进方向

稳定性
限流降级熔断
接口mock
监控告警
灰度能力

安全
多维度访问控制
session校验，设备，clientId

数据
API数据大盘
网关数据大盘

平台
平台能力打通
标准发布流程
快速标准流程接入

性能
框架升级
pipeline设计模式
全面异步化
元数据管理
去zookeeper



## 异步化

#### 线程cpu
tomcat servlet
dubbo
业务线呈都异步化

#### 内存

限制请求量
控制gc的暂停时间


#### 碰到的问题
超大的请求体和响应体，导致写日志阻塞





